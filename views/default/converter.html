{{extend 'layout2.html'}}

{{block title}}
<title>SBtab - SBML Converter</title>
{{end}}

{{block dynamic_nav}}
<li class="nav-item">
  <a class="nav-link" href="https://www.sbtab.net/default/validator.html">Validator</a>
</li>
<li class="nav-item active">
  <a class="nav-link" href="https://www.sbtab.net/default/converter.html">SBML</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="https://www.sbtab.net/default/def_files.html">Customize SBtab</a>
</li>
{{end}}

{{block center}}
<header>
  <div class="container-fluid bg-1 text-center">
    <div class="jumbotron" align="center">
      <h1><small>SBtab - SBML Converter</small></h1>
    </div>
  </div>
</header>

<main>
  <div class="container-fluid bg-3 text-center">
    <div class="row">
      <div class="col-sm-2"></div>
      <div class="col-sm-8">

	<div style="text-align:center;width:100%;padding-bottom:50px;">
	  Information on how to use the SBtab <-> SBML converter can be found in the <a href="../static/files/converter_manual.pdf">manual</a>.
	  The manual also holds information on where the limitations of the conversion processes lie.
	  Information on file formats (.csv, .xls) can be found in the <a href="../static/introduction.html">Introductory Section</a>.
	</div>
	

	<section style="padding-bottom:100px;">
	  <h2>Convert SBtab file/s to SBML file</h2>

	  {{=UPL_FORML}}

	  {{if NAME_LIST_SBTAB:}}
	  {{displayedf = []}}
	  {{displayedg = []}}

          {{for pos2,g in enumerate(DOC_NAMES):}}
	  {{if not g in displayedg:}}
	  <div class="card" style="text-align:center;width:100%;">
	    <div class="card-header">
	      SBtab document <strong>{{=g}}</strong>
	      {{displayedg.append(g)}}
              {{if list(NAME2DOC.values()).count(g) > 1:}}
	      {{if "Reaction" in TYPES or "Compound" in TYPES:}}
	      <div class="btn-group btn-group-toggle" style="text-align:center;width:100%;padding-top:10px;">
		<form>
		  <button class="btn" type="submit" value="{{=pos2}}" name="convert_all_button24" valign="top">Convert to SBML 2.4</button>
		  <button class="btn" type="submit" value="{{=pos2}}" name="convert_all_button31" valign="top">Convert to SBML 3.1</button>
		  <button class="btn" type="submit" value="{{=pos2}}" name="remove_all_button">Remove all</button>
		  <button class="btn" type="submit" value="{{=pos2}}" name="download_all_button">Download all</button>
		</form>
	      {{else:}}
		<form>
		  <button class="btn" type="submit" value="{{=pos2}}" name="remove_all_button">Remove all</button>
		  <button class="btn" type="submit" value="{{=pos2}}" name="download_all_button">Download all</button>
		</form>
		{{pass}}
	      </div>
	      {{pass}}
	    </div>

	    <div class="card-body">
	      {{for pos,f in enumerate(NAME_LIST_SBTAB):}}
	      {{if NAME2DOC[f] == g:}}
	      &bull;<a href="show_sbtab/{{=str(pos)}}" target="_new"> {{=f}} </a>
	      {{displayedf.append(f)}}
	      {{if TYPES[pos].capitalize() == 'Reaction' or TYPES[pos].capitalize() == 'Compound':}}
	      <div class="btn-group btn-group-toggle">
		<form style="text-align:center;width:100%;padding-top:10px;">
		  <button class="btn" type="submit" value="{{=pos}}" name="c2sbml_button24">Convert to SBML 2.4</button>
		  <button class="btn" type="submit" value="{{=pos}}" name="c2sbml_button31">Convert to SBML 3.1</button>
		</form>
	      </div>
	      {{pass}}
	      <div class="btn-group btn-group-toggle">
		<form style="text-align:center;width:100%;padding-top:10px;">
		  <button class="btn" type="submit" value="{{=pos}}" name="erase_sbtab_button">Remove</button>
		  <button class="btn" type="submit" value="{{=pos}}" name="dl_sbtab_button">Download</button>
		  <button class="btn" type="submit" value="{{=pos}}" name="dl_xls_sbtab_button">Download as .xls</button>
		</form>
	      </div>

	      {{pass}}
	      {{pass}}
	      
	    </div>
	  </div>
	  {{pass}}
	  {{pass}}
	  
	  {{else:}}
	  No SBtab files uploaded.
	  {{pass}}

	</section>


	<section>
	  <h2>Convert SBML file to SBtab files</h2>

	  {{=UPL_FORMR}}
	  {{if NAME_LIST_SBML:}}
          {{for pos,f in enumerate(NAME_LIST_SBML):}}
	  <div class="card" style="text-align:center;width:100%;">
	    <div class="card-body">
	      <a href="show_sbml/{{=str(pos)}}" target="_new"> {{=f}}</a>
	      <div class="btn-group btn-group-toggle">
		<form style="text-align:center;width:100%;padding-top:10px;">
		  <button class="btn" type="submit" value="{{=pos}}" name="c2sbtab_button">Convert to SBtab</button>
		  <button class="btn" type="submit" value="{{=pos}}" name="erase_sbml_button">Remove</button>
		  <button class="btn" type="submit" value="{{=pos}}" name="dl_sbml_button">Download</button>
		</form>
	      </div>
	      {{pass}}
	      {{else:}}
	      No SBML files uploaded
	      {{pass}}
	    </div>
	  </div>

	</section>
      </div>
      <div class="col-sm-2"></div>
    </div>
  </div>
</main>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

{{end}}










                







{{if WARNINGS_CON:}}

<br><br>
<b>Logfile of warnings for conversion:</b>
<br>

<table border="0">
    {{if len(WARNINGS_CON)>1:}}
        {{for f in WARNINGS_CON:}} 
            <tr> 
	      <td>
		<font color="#FF0000">&bull; {{=f}}</font>
	      </td> 
	    </tr>
	{{pass}}

    {{else:}}
    <tr>
      <td>
	<font color="#FF0000">&bull; {{=WARNINGS_CON[0]}}</font>
      </td>
    </tr>
    {{pass}}
</table>
{{pass}}

<hr>
<p>
  <a href="../static/index.html">Main</a> | 
  <a href="../static/introduction.html">Getting started</a> |
  <a href="../static/specification.html">Specification</a> |
  <a href="./validator">Validator</a> | 
  <a href="./converter">SBML</a> |
  <a href="./def_files">Customize SBtab</a> |
  <a href="../static/code.html">Code</a> |
  <a href="../static/troubles.html">Troubleshooting</a> |
  <a href="../static/team.html">Contact</a> 
</p>







